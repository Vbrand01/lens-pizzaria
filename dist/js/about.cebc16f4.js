"use strict";(self["webpackChunkburguerweb"]=self["webpackChunkburguerweb"]||[]).push([[443],{916:function(t,e,a){a.r(e),a.d(e,{default:function(){return O}});var s=a(252);const n={class:"main-container"};function l(t,e,a,l,o,i){const d=(0,s.up)("Dashboard");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(d)])}var o=a(963),i=a(577),d=a.p+"img/th.470bde48.gif";const u=t=>((0,s.dD)("data-v-fb684230"),t=t(),(0,s.Cn)(),t),c=u((()=>(0,s._)("div",{class:"img"},[(0,s._)("img",{src:d,alt:""})],-1))),r={class:"container"},g={class:"table table-condensed",id:"tablecondensed"},h=u((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"order-id"},"ID"),(0,s._)("th",null,"Cliente:"),(0,s._)("th",null,"Sabor:"),(0,s._)("th",null,"Sobremesa:"),(0,s._)("th",null,"Bebidas:"),(0,s._)("th",null,"Opcionais:"),(0,s._)("th",null,"Ações:")])],-1))),m=["onChange"],p=u((()=>(0,s._)("option",{value:""},"Selecione",-1))),_=["value","selected"],b=["onClick"];function z(t,e,a,n,l,d){const u=(0,s.up)("Message");return(0,s.wg)(),(0,s.iD)(s.HY,null,[c,(0,s._)("div",r,[(0,s.wy)((0,s.Wm)(u,{msg:l.msg},null,8,["msg"]),[[o.F8,l.msg]]),(0,s._)("table",g,[h,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pizzas,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,i.zw)(t.id),1),(0,s._)("td",null,(0,i.zw)(t.nome),1),(0,s._)("td",null,(0,i.zw)(t.sabor),1),(0,s._)("td",null,(0,i.zw)(t.sobremesa),1),(0,s._)("td",null,(0,i.zw)(t.bebida),1),(0,s._)("td",null,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.opcionais,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e},(0,i.zw)(t),1)))),128))])]),(0,s._)("td",null,[(0,s._)("div",null,[(0,s._)("select",{name:"status",class:"status",id:"",onChange:e=>d.updatePizza(e,t.id)},[p,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.status,(e=>((0,s.wg)(),(0,s.iD)("option",{key:e.id,value:e.tipo,selected:t.status==e.tipo},(0,i.zw)(e.tipo),9,_)))),128))],40,m),(0,s._)("button",{class:"delete-btn",onClick:e=>d.deletePizza(t.id)},"Cancelar",8,b)])])])))),128))])])])],64)}var w=a(397),v={name:"Dashboard",data(){return{pizzas:null,pizza_id:null,status:[],msg:null}},components:{Message:w.Z},methods:{filterTable(){var t,e,a,s,n,l,o;for(t=document.getElementById("inputFilter"),e=t.value.toUpperCase(),a=document.getElementById("tablecondensed"),s=a.getElementsByTagName("tr"),l=0;l<s.length;l++)n=s[l].getElementsByTagName("td")[0],n&&(o=n.textContent||n.innerText,o.toUpperCase().indexOf(e)>-1?s[l].style.display="":s[l].style.display="none")},async getPedidos(){const t=await fetch("http://localhost:3000/Pizzas"),e=await t.json();this.pizzas=e,this.getStatus()},async getStatus(){const t=await fetch("http://localhost:3000/status"),e=await t.json();this.status=e},async deletePizza(t){const e=await fetch(`http://localhost:3000/Pizzas/${t}`,{method:"DELETE"});await e.json();this.msg="Pedido removido com sucesso",setTimeout((()=>this.msg=""),2e3),this.getPedidos()},async updatePizza(t,e){const a=t.target.value,s=JSON.stringify({status:a}),n=await fetch(`http://localhost:3000/Pizzas/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:s}),l=await n.json();this.msg=`O pedido Nº${l.id} foi atualizado para ${l.id}!`,setTimeout((()=>this.msg=""),2e3),console.log(l)}},mounted(){this.getPedidos()}},f=a(744);const y=(0,f.Z)(v,[["render",z],["__scopeId","data-v-fb684230"]]);var C=y,D=a(125),P=a.p+"img/refresh.3a36bdef.png";const k=t=>((0,s.dD)("data-v-0ceeeae8"),t=t(),(0,s.Cn)(),t),T={class:"container"},E=k((()=>(0,s._)("img",{src:P,height:"100",alt:""},null,-1))),I=[E];function S(t,e,a,n,l,o){return(0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("button",{class:"btn-reload",onClick:e[0]||(e[0]=t=>o.bto())},I)])}var j={name:"Reload",methods:{bto(){location.reload()}}};const B=(0,f.Z)(j,[["render",S],["__scopeId","data-v-0ceeeae8"]]);var H=B,Z={name:"Pedidos",components:{Dashboard:C,PedidoForm:D.Z,Reload:H}};const N=(0,f.Z)(Z,[["render",l],["__scopeId","data-v-00021a0a"]]);var O=N}}]);
//# sourceMappingURL=about.cebc16f4.js.map